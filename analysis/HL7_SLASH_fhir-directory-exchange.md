# fhir-directory-exchange: Analysis

## Core Purpose & Scope

-   **Primary interoperability challenges this IG addresses:** This IG tackles the fragmentation and lack of standardization in healthcare directory information, which leads to inaccurate data, administrative burden, and difficulties in electronic endpoint discovery, referrals, care coordination, and other critical workflows. It primarily addresses the exchange of validated provider directory data.
-   **Key clinical/business problems it solves:** The IG aims to reduce the cost and effort associated with maintaining accurate provider directories, improve data quality through validation against primary sources, and enable more efficient electronic exchange of health information. It supports use cases such as provider and service discovery, health plan enrollment, referrals, transitions of care, and provider credentialing.
-   **Intended scope and boundaries:** The IG focuses on directory information for healthcare providers and organizations, including practitioners, locations, services, insurance plans, and networks. It encompasses individuals and entities providing services impacting health and well-being, including social services and non-licensed staff. Patient/caregiver information is explicitly out of scope. The IG defines a RESTful FHIR API for accessing validated directory data, with a focus on a one-directional flow from a central source to local environments (i.e., HTTP GETs).

## Technical Foundation

-   **Core profiles and extensions:**
    -   **Profiles:** `NatlDirExCareTeam`, `NatlDirExEndPoint`, `NatlDirExHealthCareService`, `NatlDirExInsurancePlan`, `NatlDirExLocation`, `NatlDirExNetwork`, `NatlDirExOrganization`, `NatlDirExOrganizationAffiliation`, `NatlDirExPractitioner`, `NatlDirExPractitionerRole`, `NatlDirExRestriction`, `NatlDirExValidation`.
    -   **Extensions:** `newpatients`, `deliverymethod`, `region`, `endpoint-usecase`, `endpoint-type`, `secureEndpoint`, `igsSupported`, `associatedServers`, `dynamic-registration`, `secure-exchange-artifacts`, `trustFramework`, `communication-proficiency`, `practitioner-qualification`, `rating`, `careteam-alias`, `location-reference`, `via-intermediary`, `org-description`.
-   **Notable operations and interactions:** The IG primarily focuses on RESTful interactions, particularly search operations using defined search parameters. It also mentions support for asynchronous interactions using the Bulk Data standard and a subscribe/publish model for updates.
-   **Key terminology and value sets:** The IG defines several custom code systems and value sets, including `OrganizationAffiliationRoleCS`, `AcceptingPatientsCS`, `AccessibilityCS`, `DeliveryMethodCS`, `VirtualModalitiesCS`, `EndpointConnectionTypeCS`, `EndpointPayloadTypeCS`, `HealthcareServiceCategoryCS`, `InsuranceProductTypeCS`, `InsurancePlanTypeCS`, `OrgTypeCS`, `QualificationStatusCS`, `ProviderRoleCS`, and `LanguageProficiencyCS`. It also references standard terminologies like SNOMED CT, LOINC, NUCC Provider Taxonomy, and V3 ActReason.
-   **Significant patterns and constraints:** The IG defines mandatory elements, extensions, and terminology requirements for each profile. It specifies search parameters that must be supported by implementations, including parameters for filtering resources based on business identifiers, status, type, and relationships. The IG also includes a `Restriction` profile based on the `Consent` resource to convey restrictions on data access and use.

## Technical Essence

This IG defines a FHIR-based framework for exchanging validated healthcare directory information, centered around a core set of profiles: `Organization`, `Practitioner`, `Location`, `PractitionerRole`, `Endpoint`, `HealthcareService`, `Network`, and `InsurancePlan`. These profiles are extended to capture specific data elements relevant to directory use cases, such as provider specialties, service availability, network participation, and endpoint details. The IG mandates support for a comprehensive set of search parameters on these profiles, enabling granular queries based on identifiers, names, addresses, types, relationships, and other attributes. A `VerificationResult` profile captures validation status against primary sources, while a `Restriction` profile, based on `Consent`, manages access control. Implementations must support JSON and should support XML formats. The design emphasizes a RESTful API for querying a central, validated directory, with a focus on read-only access (GET operations) and search capabilities. The IG leverages standard FHIR data types and terminologies, while also defining custom code systems for specific concepts like organization affiliation roles, delivery methods, and accessibility features. The core pattern is a network of interconnected resources, linked through references, enabling navigation and discovery of related entities within the directory.

## Implementation Approach

-   **Critical workflows and interactions:** The primary workflow involves querying the validated directory using defined search parameters to retrieve specific resources or sets of resources. Implementations should support bulk data extraction and potentially subscription mechanisms for updates.
-   **Important requirements and guardrails:** Implementations must support the defined profiles and their mandatory elements, extensions, and terminology bindings. They must also support the specified search parameters and response formats. Security considerations, including authentication and authorization, are outlined, referencing the SMART Backend Services Authorization Guide.
-   **Notable design choices and patterns:** The IG uses a modular design with interconnected resources, allowing for flexible querying and navigation. The use of extensions allows for capturing additional information beyond the base FHIR resources. The `Restriction` profile provides a mechanism for managing data access and use restrictions.

## Ecosystem Context

-   **Target systems and users:** The IG targets systems that maintain and consume healthcare directory information, including provider organizations, payers, HIEs, HISPs, CIEs, government agencies, and other entities with a need for validated provider data. Users include application developers, system integrators, and potentially end-users through intermediary applications.
-   **Relationship to other standards/IGs:** The IG builds upon the FHIR standard (version 4.0.1) and is conceptually based on the Validated Healthcare Directory Implementation Guide (VHDir IG). It also aligns with the work of the FHIR at Scale Taskforce (FAST) on a national endpoint directory. In the US context, it is expected to align with an R4 version of the US Core IG. It also relates to the Da Vinci PDEX Payer Network Implementation Guide (PDex PlanNet IG).
-   **Relevant jurisdictions or programs:** The IG was developed in cooperation with the ONC and FHA in the US, with guidance from HL7 International. It is intended to be broadly applicable but may be adapted to specific jurisdictional requirements.
-   **Primary use cases and scenarios:** The IG supports a wide range of use cases, including electronic endpoint discovery, provider and service search, health plan enrollment, referrals, transitions of care, provider credentialing, quality reporting, and fraud detection.
