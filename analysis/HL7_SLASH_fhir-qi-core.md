# fhir-qi-core: Analysis

## Core Purpose & Scope

The Quality Improvement Core (QI-Core) Implementation Guide (IG) defines a set of FHIR profiles, extensions, and bindings to facilitate the creation of interoperable, quality-focused applications within the US Realm. It primarily addresses the challenge of inconsistent data access and use across organizations and healthcare systems for clinical quality applications. By providing a common foundation based on US Core profiles, QI-Core aims to standardize the representation of clinical data needed for quality measurement and clinical decision support (CDS). The IG's scope is limited to clinical data representation and does not cover the representation of knowledge artifacts (like HQMF or CDS KAS), patient-data documents (like QRDA Cat I), or documents containing quality measure results (like QRDA Cat III). It focuses on a subset of FHIR resources relevant to quality improvement, mapping to QIDAM, vMR, and QDM, while adhering to FHIR's "80% rule" to ensure computability and focus on commonly collected clinical data.

## Technical Foundation

QI-Core's technical foundation is built upon FHIR R4 and US Core STU 7. It defines numerous profiles derived from US Core, including AdverseEvent, AllergyIntolerance, CarePlan, CareTeam, Condition, Encounter, Goal, Immunization, MedicationRequest, Observation, Patient, Procedure, and ServiceRequest, among others. Key extensions include `qicore-notDoneValueSet` for specifying value sets of activities not performed, and `qicore-keyelement` to flag elements significant for measures and CDS. Notable operations are not explicitly defined in this version, as it does not address accessing patient-level data directly via API calls. However, it mandates support for FHIR's read and search operations. Key terminology bindings include SNOMED CT, LOINC, RxNorm, and value sets defined in the US Core and those specific to QI-Core, such as `qicore-negation-reason`. Significant patterns include the use of negation profiles to document the absence of data with a valid reason and the use of the `codeOptions` extension to reference value sets within CodeableConcepts.

## Technical Essence

QI-Core extends US Core profiles by adding constraints and extensions relevant to quality measurement and CDS, primarily focusing on clinical data representation. It defines a set of "negation" profiles (e.g., `MedicationNotRequested`, `ProcedureNotDone`) that utilize specific patterns like `status` set to "not-done" and extensions like `qicore-notDoneValueSet` to indicate that an activity was intentionally not performed, along with a reason code from a defined value set. The IG leverages FHIR's extension mechanism extensively, with `qicore-keyelement` to flag elements essential for quality improvement. Profiles often constrain code bindings to specific value sets (e.g., SNOMED CT, LOINC, RxNorm) and introduce patterns for handling choice types and extensions. For instance, `MedicationRequest` uses `intent` to differentiate orders from plans, and `reported[x]` to indicate self-reported medications. QI-Core mandates support for all defined profiles and their Must Support elements, with specific handling for "Any" references to ensure conformance to QI-Core profiles where they exist. The IG also provides a detailed mapping to QDM v5.6, facilitating the transition from QDM-based eCQMs to FHIR-based implementations.

## Implementation Approach

Implementation of QI-Core involves supporting all defined profiles for resources exchanged, with servers declaring their support in a FHIR CapabilityStatement. Systems must support FHIR's read and search operations and supply Must Support data elements whenever available. Quality improvement applications must recognize and process all Must Support elements, including modifying attributes. The IG emphasizes the use of preferred value sets and adherence to more restrictive bindings between US Core and QI-Core. Key workflows involve retrieving and processing clinical data for quality measurement and decision support, with a focus on handling negation scenarios and ensuring consistent representation of clinical concepts. The IG introduces specific patterns for documenting negation, using dedicated profiles and extensions to capture reasons for not performing certain actions.

## Ecosystem Context

QI-Core targets healthcare systems, EHR vendors, quality measure developers, and CDS implementers within the US Realm. It is closely related to US Core, inheriting and extending its profiles, and aligns with other initiatives like CIMI and Graphite Health. The IG is relevant to CMS quality programs and is maintained by the HL7 Clinical Quality Information (CQI) Work Group, co-sponsored by the Clinical Decision Support (CDS) Work Group. Primary use cases include electronic clinical quality measurement (eCQM) and clinical decision support, aiming to improve the consistency and interoperability of quality-related data exchange. The IG also provides a detailed mapping to QDM, facilitating the transition from QDM-based eCQMs to FHIR-based implementations.
