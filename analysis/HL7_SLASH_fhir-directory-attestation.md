# fhir-directory-attestation: Analysis

## Core Purpose & Scope

This Implementation Guide (IG), titled "National Healthcare Directory Attestation and Verification," addresses the primary interoperability challenges of establishing a trusted, national-scale source of validated healthcare directory information in the US. It tackles the problems of inaccurate, outdated, and siloed directory data by defining a FHIR-based approach for attesting to, validating, and exchanging provider, organization, location, and related information. The IG's scope encompasses individuals and entities providing services impacting health and well-being, including licensed and non-licensed providers, administrative staff, and community/social service entities. Patient/caregiver information is explicitly out of scope.

## Technical Foundation

The IG is built upon FHIR R4 and leverages several core profiles from the `hl7.fhir.us.directory-exchange` IG, including `NatlDirEx-Organization`, `NatlDirEx-Practitioner`, `NatlDirEx-Location`, `NatlDirEx-HealthcareService`, `NatlDirEx-Endpoint`, `NatlDirEx-Network`, `NatlDirEx-InsurancePlan`, `NatlDirEx-OrganizationAffiliation`, and `NatlDirEx-PractitionerRole`. It also defines profiles for `NatlDir-Verification` (based on `VerificationResult`) and `NatlDir-Restriction` (based on `Consent`). Key extensions include those for new patients, location boundaries (GeoJSON), and various identifiers. Notable operations include standard FHIR RESTful interactions (read, search, create, update, delete) and potentially custom operations for bulk data export and subscriptions. The IG utilizes standard FHIR terminologies (e.g., SNOMED CT, LOINC, NUCC) alongside custom value sets for concepts like qualification status, organization type, and healthcare service delivery methods. Significant patterns include the use of `OrganizationAffiliation` and `PractitionerRole` to represent relationships, and the `VerificationResult` resource to capture validation details.

## Technical Essence

This IG defines a FHIR R4 based system for managing a validated healthcare directory. It leverages core resource types like `Organization`, `Practitioner`, `Location`, `HealthcareService`, and `Endpoint`, extending them with profiles like `NatlDirEx-Organization` and `NatlDirEx-Practitioner` to capture essential directory data. Relationships between entities are modeled using `OrganizationAffiliation` and `PractitionerRole`.  Validation processes are captured using the `VerificationResult` resource, linked to target resources and elements, detailing validation type, frequency, primary source, and attestation information. Restrictions on data access are represented using a `Consent`-based `NatlDir-Restriction` profile. Implementations are expected to support standard FHIR RESTful interactions, including search parameters defined for each resource type. The IG also suggests using the `$export` operation for bulk data and potentially leveraging the `Subscription` resource for real-time updates. The core design emphasizes the use of established FHIR resources and patterns, extended to meet the specific needs of a national-scale, validated directory.

## Implementation Approach

The IG envisions a central "national directory" that receives attested data from authorized entities (individuals, organizations, payers, intermediaries) via a FHIR API, likely using a SMART on FHIR application. Implementations must define attestation rights and manage potential record collisions. Validation involves checking resource structure, content, and references against defined profiles and value sets. Verification against primary sources is crucial, with the `VerificationResult` resource capturing the process and outcome. The IG suggests using transaction Bundles for attestation submissions and managing referential integrity. Implementations should define policies for handling sensitive data, potentially using the `Restriction` profile. The IG is not prescriptive about specific verification methods, allowing flexibility based on primary source capabilities.

## Ecosystem Context

The primary target systems are local healthcare directories maintained by payers, providers, HIEs, HISPs, CIEs, and government agencies. The target users are entities needing access to validated provider data for use cases like electronic endpoint discovery, referrals, enrollment, credentialing, and payment. The IG is a US-focused initiative sponsored by the ONC and FHA, building upon previous work by the Argonaut Project and aligning with US Core where applicable. It relates to other IGs like `hl7.fhir.us.directory-exchange` (for resource profiles) and `hl7.fhir.us.directory-query` (for search parameters and capability statements). The primary use cases involve attesting to, validating, verifying, and exchanging directory data to support various healthcare workflows, including bulk data extraction and real-time updates via subscriptions.
