# nzbase: Analysis

## Core Purpose & Scope

-   **Primary interoperability challenges this IG addresses:** This IG focuses on establishing a common foundation for FHIR implementations in New Zealand. It addresses the challenge of ensuring consistency in representing core concepts like patient demographics, practitioner information, organizations, locations, and common clinical data elements across different systems and use cases within the New Zealand healthcare ecosystem. It also tackles the need for NZ-specific identifiers, terminology, and extensions to accommodate local requirements.
-   **Key clinical/business problems it solves:** The IG aims to improve data quality, reduce implementation effort, and promote semantic interoperability for health information exchange in New Zealand. By providing standardized profiles and extensions, it simplifies integration between systems, enables more accurate data aggregation and analysis, and supports the development of consistent and reliable health applications.
-   **Intended scope and boundaries:** The IG defines base profiles and extensions that are expected to be used across a wide range of FHIR implementations in New Zealand. It covers fundamental concepts but does not delve into specific clinical domains or workflows. The scope is limited to New Zealand's healthcare context, although it aligns with international FHIR standards.

## Technical Foundation

-   **Core profiles and extensions:** The IG defines core profiles for Patient (NzPatient), Practitioner (NzPractitioner), PractitionerRole (NzPractitionerRole), Organization (NzOrganization), Location (NzLocation), HealthcareService (NzHealthcareService), Condition (NzCondition), MedicationRequest (NzMedicationRequest), MedicationStatement (NzMedicationStatement), Medication (NzMedication), MedicationDispense (NzMedicationDispense), and Coverage (NzCoverage). It also defines numerous extensions, including nz-ethnicity, dhb, domicile-code, funded-programme, information-source, nz-citizenship, nz-residency, and messaging-address.
-   **Notable operations and interactions:** The IG does not specify custom operations or interactions. It primarily focuses on defining resource structures and constraints.
-   **Key terminology and value sets:** The IG defines several NZ-specific value sets, including those for ethnicity, DHB codes, domicile codes, funded programme codes, information source codes, citizenship status, residency status, PHO codes, practitioner registration status, scope of practice, and alias types. It also references international code systems like SNOMED CT, LOINC, and administrative gender.
-   **Significant patterns and constraints:** The IG follows a pattern of extending core FHIR resources with NZ-specific elements using extensions. It applies constraints to ensure data consistency and validity, such as restricting the use of identifiers to specific systems and values.

## Technical Essence

This IG establishes a New Zealand-specific FHIR foundation by profiling core resources and defining extensions to accommodate local requirements. The `NzPatient` profile mandates the use of the NHI identifier (`https://standards.digital.health.nz/ns/nhi-id`) and includes extensions for ethnicity (`nz-ethnicity`), citizenship (`nz-citizenship`), DHB (`dhb`), domicile code (`domicile-code`), PHO (`pho`), sex at birth (`sex-at-birth`), iwi (`iwi`), ACC patient occupation (`acc-patient-occupation`), messaging address (`messaging-address`), and residency status (`nz-residency`). `NzAddress` extends the base `Address` with building name, suburb, domicile code, and NZ-specific geocode. `NzPractitioner` incorporates extensions for death date, educational qualification, ethnicity, iwi, messaging address, and qualification-related extensions like additional authorisation, condition on practice, registration initial date, registration status code, and scope of practice. `NzPractitionerRole` adds extensions for the role creator and status reason. `NzOrganization` and `NzLocation` include extensions for established date, funded programme, messaging address, and alias type. `NzCoverage` defines coverage category and type using NZ-specific value sets. `NzCondition` adds a long-term condition indicator. `NzMedicationRequest`, `NzMedicationStatement`, and `NzMedicationDispense` incorporate NZ ePrescription Service (NZePS) extensions and prefer the use of the NZMT for medication codes. `NzMedication` includes extensions for ATC codes and NZMT type. The IG mandates specific `NamingSystem` resources for various NZ identifiers, including NHI, HPI (person, organization, facility), and various practitioner registration numbers.

## Implementation Approach

-   **Critical workflows and interactions:** The IG does not define specific workflows but provides the building blocks for implementing various health information exchange scenarios in New Zealand. Implementers are expected to use the defined profiles and extensions as a starting point and build upon them to meet their specific needs.
-   **Important requirements and guardrails:** Implementers must adhere to the constraints defined in the profiles and extensions. They should use the specified value sets and code systems where applicable. The IG emphasizes the importance of using the correct NZ identifiers and provides guidance on their usage.
-   **Notable design choices and patterns:** The IG adopts a modular approach, defining extensions that can be reused across different profiles. It leverages FHIR's extension mechanism to accommodate NZ-specific data elements without modifying the core FHIR resources.

## Ecosystem Context

-   **Target systems and users:** The IG targets a wide range of systems and users within the New Zealand healthcare ecosystem, including hospitals, primary care providers, pharmacies, laboratories, government agencies, and software vendors.
-   **Relationship to other standards/IGs:** The IG aligns with the international FHIR standard and builds upon it to meet New Zealand's specific requirements. It complements other IGs, such as those developed by HL7 New Zealand or specific clinical domains.
-   **Relevant jurisdictions or programs:** The IG is specifically designed for use in New Zealand and is endorsed by HL7 New Zealand and the New Zealand Health Information Standards Organisation (HISO).
-   **Primary use cases and scenarios:** The IG supports a variety of use cases, including patient administration, practitioner registration, medication management, health service directory, and public health reporting. It provides a foundation for implementing these use cases in a consistent and interoperable manner.
